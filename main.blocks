<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="BLOCKLY_TILESET_TYPE" id=":#gHTPNZ;|!`S#68M]9$">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable id="K=MSXuL]pL?Ll?bl#L[J">CellsX</variable><variable id="x3#Cv^=^0^`*vrs[eVO1">CellsY</variable><variable id="U;rcz]zx6.5+Ut?Vr3|f">NSEW</variable><variable id="f0SiU.yJEh@SBy}O8W^L">x</variable><variable id="H4jctuR;%8{R/Nk|mr|c">Cells</variable><variable id="#1-/FaD;_gfLw6mRHsCQ">y</variable><variable id="oaIBHc*~MTj^xeJF|Ach">NSEW2</variable><variable id="uzIMdCG!v)|4+BN4rfjm">TilesX</variable><variable id="x:K1s;Eo~|6y$L9.-i]v">TilesY</variable></variables><block type="function_definition" x="0" y="16"><mutation name="VisitCell" functionid="Np-|1xDn^UH}g1E/X%KS"><arg name="x" id="tpwrfzfpd8trilsk3xaq" type="number"/><arg name="y" id="fxqjywrm6esmkjhgm4xj" type="number"/></mutation><field name="function_name">VisitCell</field><value name="tpwrfzfpd8trilsk3xaq"><shadow type="argument_reporter_number"><field name="VALUE">x</field></shadow></value><value name="fxqjywrm6esmkjhgm4xj"><shadow type="argument_reporter_number"><field name="VALUE">y</field></shadow></value><statement name="STACK"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="K=MSXuL]pL?Ll?bl#L[J">CellsX</field></block></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">y</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">y</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="x3#Cv^=^0^`*vrs[eVO1">CellsY</field></block></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" editable="false"><field name="EXPRESSION">Cells[x][y].Visited</field></block></value><statement name="DO0"><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="variables_set"><field name="VAR" id="U;rcz]zx6.5+Ut?Vr3|f">NSEW</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with"><mutation items="4"/><value name="ADD0"><shadow type="text"><field name="TEXT">N</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">S</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT">E</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT">W</field></shadow></value></block></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let FOO = NSEW.sort((a, b) =&gt; { return Math.pickRandom([-1, 1]) })" numlines="1" declaredvars="FOO"></mutation></block></next></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" x="670" y="22"><statement name="HANDLER"><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let Cells: Cell[][] = []" numlines="1" declaredvars="Cells"></mutation><next><block type="variables_set"><field name="VAR" id="oaIBHc*~MTj^xeJF|Ach">NSEW2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with"><mutation items="0"/></block></value><next><block type="variables_set"><field name="VAR" id="K=MSXuL]pL?Ll?bl#L[J">CellsX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="uzIMdCG!v)|4+BN4rfjm">TilesX</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="x3#Cv^=^0^`*vrs[eVO1">CellsY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="x:K1s;Eo~|6y$L9.-i]v">TilesY</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="uzIMdCG!v)|4+BN4rfjm">TilesX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">16</field></shadow></value><next><block type="variables_set"><field name="VAR" id="x:K1s;Eo~|6y$L9.-i]v">TilesY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">16</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`1000100004040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404`,
            img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.castle.tileGrass2,sprites.castle.tilePath5,sprites.builtin.forestTiles0,sprites.castle.tileDarkGrass1],
            TileScale.Sixteen
        )</field><next><block type="mapsettileat"><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.castle.tileGrass2</field></shadow></value><value name="loc"><shadow type="mapgettile"><value name="col"><shadow type="math_number"><field name="NUM">2</field></shadow></value><value name="row"><shadow type="math_number"><field name="NUM">2</field></shadow></value></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Cell {" line1="    Visited: boolean" line2="}" numlines="3"></mutation><next><block type="function_call"><mutation name="GenerateMap" functionid="h|1puH?m`PyOP_lBn1:O"/></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" x="1070" y="570"><mutation name="GenerateMap" functionid="h|1puH?m`PyOP_lBn1:O"/><field name="function_name">GenerateMap</field><statement name="STACK"><block type="function_call"><mutation name="GenerateCells" functionid="ltn@Wq].h,/g%trLF(|#"/><next><block type="function_call"><mutation name="VisitCell" functionid="Np-|1xDn^UH}g1E/X%KS"><arg name="x" id="tpwrfzfpd8trilsk3xaq" type="number"/><arg name="y" id="fxqjywrm6esmkjhgm4xj" type="number"/></mutation><value name="tpwrfzfpd8trilsk3xaq"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="fxqjywrm6esmkjhgm4xj"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></next></block></statement></block><block type="function_definition" x="-10" y="630"><mutation name="GenerateCells" functionid="ltn@Wq].h,/g%trLF(|#"/><field name="function_name">GenerateCells</field><statement name="STACK"><block type="pxt_controls_for"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="f0SiU.yJEh@SBy}O8W^L">x</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="K=MSXuL]pL?Ll?bl#L[J">CellsX</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="lists_index_set"><value name="LIST"><block type="variables_get"><field name="VAR" id="H4jctuR;%8{R/Nk|mr|c">Cells</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="f0SiU.yJEh@SBy}O8W^L">x</field></block></value><value name="VALUE"><block type="lists_create_with"><mutation items="0"/></block></value><next><block type="pxt_controls_for"><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="#1-/FaD;_gfLw6mRHsCQ">y</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="x3#Cv^=^0^`*vrs[eVO1">CellsY</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="lists_index_set"><value name="LIST"><block type="lists_index_get"><value name="LIST"><block type="variables_get"><field name="VAR" id="H4jctuR;%8{R/Nk|mr|c">Cells</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="f0SiU.yJEh@SBy}O8W^L">x</field></block></value></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="#1-/FaD;_gfLw6mRHsCQ">y</field></block></value><value name="VALUE"><block type="typescript_expression" editable="false"><field name="EXPRESSION">new Cell()</field></block></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="Cells[x][y].Visited = false" numlines="1"></mutation></block></next></block></statement></block></next></block></statement></block></statement></block></xml>